#include<bits/stdc++.h>
#include <vector>
using namespace std;

//Define the structs Workshops and Available_Workshops.
struct Workshop{
    int start_time;
    int duration;
    int end_time;
};

struct Available_Workshops{
    int n;
    Workshop* workshops;//= new Workshop[n];
    Available_Workshops (int nn)
    {
    	n=nn;
    	workshops= new Workshop[n];
    }
};
//Implement the functions initialize and CalculateMaxWorkshops
Available_Workshops* initialize(int start_time[], int duration[], int N)
{
	Available_Workshops* a_workshops=new Available_Workshops(N);

    a_workshops->n=N;

    for(int i=0;i<N;i++)
    {
    	(a_workshops->workshops+i)->start_time = start_time[i];
    	(a_workshops->workshops+i)->duration = duration[i];
    	(a_workshops->workshops+i)->end_time = start_time[i] + duration[i];
       /* Workshop temp;
        temp.start_time = start_time[i];
        temp.duration = duration[i];
        temp.end_time = start_time[i] + duration[i];
        a_workshops->workshops[i]=temp;*/
    }
    return a_workshops;
}
bool compare(Workshop a,Workshop b)
{
	return a.start_time<b.start_time;
}
int CalculateMaxWorkshops(Available_Workshops* ptr)
{
    int j=0,num=0,n=ptr->n;

    sort(ptr->workshops,ptr->workshops+n,compare);
    int first_start,first_end;

    for(int i=0;i<n;i++)
    {
    	cout<<"*"<<i<<" "<<(ptr->workshops+i)->start_time<<endl;
    	first_start=(ptr->workshops+i)->start_time;first_end=(ptr->workshops+i)->end_time;
    	j=i+1;
    	while((ptr->workshops+j)->start_time == first_start)
    	{
    		if((ptr->workshops+j)->end_time < first_end)
			{
    			first_end=(ptr->workshops+j)->end_time;cout<<"first end:"<<first_end<<endl;
			}
    		j++;
    	}
		i=j-1;
    	vector<Workshop> vec;int index;
    	while((ptr->workshops+j)->start_time < first_end && j!=n)
    	{
    		if((ptr->workshops+j)-> end_time <= first_end)
    		{
    			Workshop w;
    			w.start_time=(ptr->workshops+j)->start_time;
    			w.end_time=(ptr->workshops+j)->end_time;
    			w.duration=(ptr->workshops+j)->duration;
    			vec.push_back(w);
    			index=j;

    		}
    		j++;
    	}
    	int v=vec.size();
    	int count=0;
    	if(v<2)
    	{
        	cout<<"smaller ends: ";
        	for (auto z:vec)
        		cout<<z.end_time<<" ";
        	cout<<endl;

    		if(v==1 && vec.back().end_time<first_end)
    			i=index-1;
    		else
    		{
        		cout<<"num: "<<num+1<<endl;
        		num++;
    			i=j-1;
    		}

    	}

    	else
    	{
        	cout<<"smaller ends: ";
        	for (auto z:vec)
        		cout<<z.end_time<<" ";
        	cout<<endl;
        	for (int k=1;k<v;k++)
        	{
        		int end=vec[k-1].end_time;
        		for (int l=k;l<v;l++)
        		{
        			if (end <=vec[l].start_time)
    				{
        				count++;
    				}
        		}
        		if (count==1)
        		{
        			break;
        		}

        	}
        	if (count==0)
        	{
            	for (auto z:vec)
            	{
            		if(z.end_time < first_end)
            		{
            			count=1;
            			break;
            		}
            	}
            	if(count==0)
            	{

    				cout<<"num: "<<num+1<<endl;
    				num++;
    				i=j-1;
            	}
        	}
    	}
		vec.clear();
		count=0;


    }
    return num;
}

int main(int argc, char *argv[]) {
    int n=602; // number of workshops
    //cin >> n;
    // create arrays of unknown size n
    //int* start_time = new int[n];
    //int* duration = new int[n];

   // int *start_time{new int[n]{5 ,5, 6, 3, 4, 1, 3, 2}};
    //int *duration{new int[n]{1, 2, 5, 1, 1, 1, 2, 1}};

    int *start_time{new int[n]{3,255,259,307,142,260,156,312,165,107,183,390,114,273,380,223,48,208,412,237,27,435,447,217,232,405,13,12,401,122,446,6,311,59,341,486,481,396,173,473,187,424,9,187,48,422,355,406,373,16,481,241,399,298,180,73,25,21,21,455,70,344,295,360,365,467,396,309,372,479,271,413,361,428,336,407,173,15,369,495,361,47,94,248,128,13,272,425,18,353,221,487,41,11,131,178,240,335,351,156,490,433,383,161,500,197,74,128,425,358,22,168,37,242,431,171,462,352,13,251,292,18,230,60,363,228,3,330,433,170,412,75,344,26,32,186,316,327,421,258,367,451,220,401,262,320,154,382,192,207,25,125,72,234,433,433,132,482,303,488,81,267,35,196,176,494,333,330,189,491,240,332,288,431,54,473,226,446,262,176,191,478,162,162,65,487,448,11,376,62,402,412,467,91,322,298,320,351,11,383,53,411,183,58,8,142,94,467,282,299,178,467,447,171,439,151,50,12,107,380,137,235,126,206,230,226,146,438,294,34,377,21,28,441,6,478,398,97,340,148,485,216,271,20,304,131,430,92,397,464,291,361,408,374,26,415,295,46,77,38,384,158,149,485,460,448,321,29,9,227,168,78,358,130,440,108,322,13,374,151,349,398,35,454,425,258,414,111,182,110,133,7,474,350,450,14,38,243,438,271,204,411,195,451,168,273,78,395,393,342,473,64,198,296,215,19,422,26,157,473,65,141,18,378,436,80,184,485,94,241,270,243,384,384,180,237,465,77,409,348,419,182,414,113,118,27,300,62,23,466,200,428,219,375,194,439,425,57,355,429,364,272,101,368,320,54,268,366,124,494,7,288,97,437,269,249,162,3,188,26,346,90,164,253,136,9,97,405,447,372,398,447,301,255,192,367,323,61,312,427,242,150,150,171,180,432,351,211,215,476,153,470,89,156,241,245,337,431,258,49,393,62,40,492,256,65,150,219,471,248,249,175,255,106,302,54,494,103,147,485,491,301,305,57,111,363,362,287,385,324,407,492,37,149,356,5,383,270,98,72,384,171,325,297,392,380,316,244,249,235,493,263,235,433,34,352,339,71,43,232,421,296,220,84,58,21,178,350,407,233,419,434,354,62,62,240,164,462,410,369,203,24,120,216,373,383,406,362,277,133,60,108,500,492,225,149,172,375,94,270,245,51,479,87,439,401,193,169,267,60,488,115,183,59,115,31,15,93,178,32,93,106,231,446,100,107,167,178,251,217,126,140,290,90,73,108,452,334,283,84,46,110,18,124,63,122,279,447,462,252,15,164,290,174,400,298,36,212,443,169,300,39,373,466,159,455,55,420,51,434,407,265,70,172,302,395,112,343,258,135,445,393} };
    int *duration{new int[n]{49,69,51,59,12,38,70,98,11,57,48,96,55,98,94,83,96,93,86,6,30,41,59,8,67,44,11,54,18,77,28,22,38,79,24,65,31,92,30,86,68,24,95,58,74,71,88,17,23,42,20,42,74,51,68,46,67,52,77,18,87,20,10,48,69,94,88,91,19,48,92,82,61,57,82,76,34,80,38,86,2,63,55,14,62,65,58,62,16,61,19,2,65,26,5,60,89,77,16,49,62,85,87,6,11,5,2,16,72,95,4,26,10,73,35,48,20,56,9,49,29,93,38,79,94,85,98,18,87,54,63,75,41,32,71,76,2,56,88,9,6,59,13,88,91,8,100,3,90,76,91,20,31,42,42,59,55,93,1,71,93,85,70,81,62,54,92,28,50,88,80,83,79,34,6,31,24,69,16,42,71,98,70,27,20,44,14,96,43,14,68,78,86,15,76,64,77,29,11,45,39,73,62,68,1,46,81,45,29,22,62,100,86,56,40,16,85,92,8,69,48,63,78,46,52,18,80,57,10,81,47,51,98,25,66,51,81,27,62,53,80,98,2,21,7,9,37,34,20,50,42,59,25,93,33,63,76,97,27,26,92,41,86,16,45,96,95,31,25,35,98,1,53,70,48,95,42,42,29,7,8,13,35,94,59,40,42,7,47,98,36,4,56,26,17,76,47,45,22,41,70,94,91,42,95,89,9,93,83,33,39,83,68,14,96,4,35,45,29,59,57,17,93,77,79,96,43,59,44,4,57,65,71,18,62,23,76,22,11,7,11,40,49,63,14,1,3,63,67,83,5,77,29,74,8,67,77,39,84,61,27,6,41,37,94,30,33,60,54,71,89,79,47,74,68,15,75,37,96,47,90,79,78,25,44,72,43,3,84,91,21,39,12,76,33,65,100,7,43,9,75,61,33,80,61,93,31,25,14,55,16,3,20,54,58,82,84,99,97,42,59,63,95,32,24,58,67,38,17,77,57,85,96,59,60,47,59,98,89,10,16,15,65,44,42,40,83,70,4,76,68,8,31,78,87,92,75,6,72,61,35,38,98,36,36,11,8,11,50,9,26,10,40,45,33,47,5,22,72,71,46,70,21,5,75,75,95,36,10,54,89,20,41,11,36,13,97,39,9,8,57,18,49,22,26,91,84,58,31,78,18,3,80,96,59,59,62,67,2,44,79,86,63,81,38,23,4,85,55,40,5,66,17,39,14,94,37,2,80,74,100,67,56,50,62,21,12,77,50,67,77,5,19,30,93,70,68,37,94,22,61,54,44,13,6,53,73,48,48,23,9,65,9,32,67,55,94,8,89,88,89,38,93,4,72,4,23,53,11,72,88,42,1,22,76,36,96,43,56,59,7,20}};

    Available_Workshops * ptr;
    ptr = initialize(start_time,duration, n);

    delete[] start_time;
    delete[] duration;

    cout << CalculateMaxWorkshops(ptr) << endl;
    return 0;
}
